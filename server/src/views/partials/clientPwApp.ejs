<script>
    var pwApp = window.pwApp || {};
    pwApp.UserRoles = {
        admin: 0,
        teacher_admin: 50, 
        teacher: 100,
        teacher_nonediting: 150, 
        student: 200,
        guest: 400,
        parents: 500
    };

    pwApp.config = <%- JSON.stringify(config) %>;
    pwApp.config.supportedLangs = ["es", "ca", "es"];
    pwApp.config.socketPath = "/ddp";

    <% if(locals.lang) { %>
    pwApp.lang =  "<%= lang %>";
    <% } else { %>
    pwApp.lang = document.getElementsByTagName("html")[0].lang;
    <% } %>

    <% if (locals.translations) { %>
    pwApp.translations = <%- JSON.stringify(translations) %>;    
    <% } else { %>
    pwApp.translations = {};    
    <% } %>

    pwApp.__ = function (key) {
        return pwApp.translations[key] || key;
    };
    <% if (locals.user) { %>
    pwApp.user = {id: <%-user.id%>, username: '<%-user.fullname%>', username: '<%-user.username%>', idRole: <%-user.idRole%>, schoolId:  <%-user.schoolId%>};
    <% } %>
    function getCookie(cname) {
        var name = cname + "=";
        var ca = document.cookie.split(';');
        for (var i = 0; i < ca.length; i++) {
          var c = ca[i];
          while (c.charAt(0) == ' ') {
            c = c.substring(1);
          }
          if (c.indexOf(name) == 0) {
            return c.substring(name.length, c.length);
          }
        }
        return "";
    }
</script>