<h5 class="bg-info">
    <button ng-click="vm.newUser()" class="btn btn-success">
        <i class="fa fa-plus-circle"></i> Create user</button>
    <button ng-click="vm.importUsers()" class="btn btn-default">
        <i class="fa fa-angle-right"></i> Import users</button>
    Users in {{vm.selection.schoolName}}
</h5>
<br>
<input type="checkbox" ng-model="vm.showStudents" ng-change="vm.toggle()"></input>Show students

<div loading-container="vm.tableParams.$loading">
    <table class="table table-hover table-responsive">
        <thead>
            <tr>
                <th ng-click="vm.tableParams.sortBy('id')" class="cursor-hand"> id
                    <b ng-class="vm.tableParams.params.classes.id"></b>
                </th>
                <th ng-click="vm.tableParams.sortBy('fullname')" class="cursor-hand"> Full name
                    <b ng-class="vm.tableParams.params.classes.fullname"></b>
                </th>
                <th ng-click="vm.tableParams.sortBy('username')" class="cursor-hand"> Username
                    <b ng-class="vm.tableParams.params.classes.username"></b>
                </th>
                <th>Password</th>
                <th ng-click="vm.tableParams.sortBy('email')" class="cursor-hand"> Email
                    <b ng-class="vm.tableParams.params.classes.email"></b>
                </th>
                <th ng-click="vm.tableParams.sortBy('phone')" class="cursor-hand"> Recovery Key
                    <b ng-class="vm.tableParams.params.classes.phone"></b>
                </th>
                <th ng-click="vm.tableParams.sortBy('idRole')" class="cursor-hand"> Role
                    <b ng-class="vm.tableParams.params.classes.idRole"></b>
                </th>
                <th ng-click="vm.tableParams.sortBy('valid')" class="cursor-hand"> Status
                    <b ng-class="vm.tableParams.params.classes.valid"></b>
                </th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <tr ng-repeat="u in vm.tableParams.$data">
                <td>
                    {{u.id}}
                </td>
                <td>
                    <span>{{u.fullname}}</span>
                </td>
                <td>
                    <span>{{u.username}}</span>
                </td>
                <td>
                    <span>{{mask ? (u.password ? "******" : "") : u.password}}</span>
                </td>
                <td>
                    <span>{{u.email}}</span>
                </td>
                <td>
                    <span>{{u.phone}}</span>
                </td>
                <td>
                    <span>{{u.idRole | rolename}}</span>
                </td>

                <td>
                    <span>{{u.valid | statusname}}</span>
                </td>

                <td>
                    <div>
                        <button class='fa fa-trash' title="delete" ng-click='vm.confirmDlg(u)'></button>
                        <button class='fas fa-pencil-alt' title="edit" ng-if="!u.edit" ng-click='vm.edit(u)'></button>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>


    <ul class="pull-left" uib-pagination items-per-page="vm.tableParams.params.count" total-items="vm.tableParams.params.total"
        ng-model="vm.tableParams.params.page" max-size="vm.tableParams.params.maxSize" class="pagination-sm" boundary-links="true"
        force-ellipses="true" ng-change="vm.tableParams.paginate()"></ul>
    <div class="btn-group pull-right">
        <button ng-repeat="b in tableParams.params.counts" type="button" class="btn" ng-class="b===vm.tableParams.params.count?'btn-primary':'btn-default'"
            ng-click="vm.tableParams.setCount(b)">{{b}}</button>
    </div>
</div>