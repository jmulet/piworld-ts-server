
angular.module("angular-growl",[]);angular.module("angular-growl").directive("growl",[function(){return{restrict:"A",templateUrl:"templates/growl/growl.html",replace:false,scope:{reference:"@",inline:"=",limitMessages:"="},controller:["$scope","$timeout","growl","growlMessages",function(b,c,d,a){b.referenceId=b.reference||0;a.initDirective(b.referenceId,b.limitMessages);b.growlMessages=a;b.inlineMessage=angular.isDefined(b.inline)?b.inline:d.inlineMessages();b.$watch("limitMessages",function(e){var f=a.directives[b.referenceId];if(!angular.isUndefined(e)&&!angular.isUndefined(f)){f.limitMessages=e}});b.stopTimeoutClose=function(e){if(!e.clickToClose){angular.forEach(e.promises,function(f){c.cancel(f)});if(e.close){a.deleteMessage(e)}else{e.close=true}}};b.alertClasses=function(e){return{"alert-success":e.severity==="success","alert-notify":e.severity==="notify","alert-error":e.severity==="error","alert-danger":e.severity==="error","alert-info":e.severity==="info","alert-warning":e.severity==="warning",icon:e.disableIcons===false,"alert-dismissable":!e.disableCloseButton}};b.showCountDown=function(e){return !e.disableCountDown&&e.ttl>0};b.wrapperClasses=function(){var e={};e["growl-fixed"]=!b.inlineMessage;e[d.position()]=true;return e};b.computeTitle=function(f){var e={success:"Success",notify:"Notification",error:"Error",info:"Information",warn:"Warning"};return e[f.severity]}}]}}]);angular.module("angular-growl").run(["$templateCache",function(a){if(a.get("templates/growl/growl.html")===undefined){a.put("templates/growl/growl.html",'<div class="growl-container" ng-class="wrapperClasses()"><div class="growl-item alert" ng-repeat="message in growlMessages.directives[referenceId].messages" ng-class="alertClasses(message)" ng-click="stopTimeoutClose(message)"><button type="button" class="close" data-dismiss="alert" aria-hidden="true" ng-click="growlMessages.deleteMessage(message)" ng-show="!message.disableCloseButton">&times;</button><button type="button" class="close" aria-hidden="true" ng-show="showCountDown(message)">{{message.countdown}}</button><h4 class="growl-title" ng-show="message.title" ng-bind="message.title"></h4><div class="growl-message" ng-bind-html="message.text"></div></div></div>')}}]);angular.module("angular-growl").provider("growl",function(){var e={success:null,error:null,warning:null,info:null},j="messages",o="text",c="title",l="severity",g=true,k="variables",d=0,b=false,i="top-right",m=false,n=false,h=false,a=false,f=true;this.globalTimeToLive=function(p){if(typeof p==="object"){for(var q in p){if(p.hasOwnProperty(q)){e[q]=p[q]}}}else{for(var r in e){if(e.hasOwnProperty(r)){e[r]=p}}}return this};this.globalTranslateMessages=function(p){f=p;return this};this.globalDisableCloseButton=function(p){m=p;return this};this.globalDisableIcons=function(p){n=p;return this};this.globalReversedOrder=function(p){h=p;return this};this.globalDisableCountDown=function(p){a=p;return this};this.messageVariableKey=function(p){k=p;return this};this.globalInlineMessages=function(p){b=p;return this};this.globalPosition=function(p){i=p;return this};this.messagesKey=function(p){j=p;return this};this.messageTextKey=function(p){o=p;return this};this.messageTitleKey=function(p){c=p;return this};this.messageSeverityKey=function(p){l=p;return this};this.onlyUniqueMessages=function(p){g=p;return this};this.serverMessagesInterceptor=["$q","growl",function(q,r){function p(s){if(s!==undefined&&s.data&&s.data[j]&&s.data[j].length>0){r.addServerMessages(s.data[j])}}return{response:function(s){p(s);return s},responseError:function(s){p(s);return q.reject(s)}}}];this.$get=["$rootScope","$interpolate","$sce","$filter","$timeout","growlMessages",function(v,u,z,A,H,B){var y;B.onlyUnique=g;B.reverseOrder=h;try{y=A("translate")}catch(E){}function r(L){if(y&&L.translateMessage){L.text=y(L.text,L.variables)||L.text;L.title=y(L.title)||L.title}else{var K=u(L.text);L.text=K(L.variables)}var M=B.addMessage(L);v.$broadcast("growlMessage",L);H(function(){},0);return M}function p(O,L,K){var N=L||{},M;M={text:O,title:N.title,severity:K,ttl:N.ttl||e[K],variables:N.variables||{},disableCloseButton:N.disableCloseButton===undefined?m:N.disableCloseButton,disableIcons:N.disableIcons===undefined?n:N.disableIcons,disableCountDown:N.disableCountDown===undefined?a:N.disableCountDown,position:N.position||i,referenceId:N.referenceId||d,translateMessage:N.translateMessage===undefined?f:N.translateMessage,destroy:function(){B.deleteMessage(M)},setText:function(P){M.text=z.trustAsHtml(String(P))},onclose:N.onclose,onopen:N.onopen};return r(M)}function C(L,K){return p(L,K,"warning")}function D(L,K){return p(L,K,"error")}function F(L,K){return p(L,K,"info")}function s(L,K){return p(L,K,"success")}function x(L,K){return p(L,K,"notify")}function w(M,L,K){K=(K||"error").toLowerCase();return p(M,L,K)}function t(P){if(!P||!P.length){return}var M,O,L,N;N=P.length;for(M=0;M<N;M++){O=P[M];if(O[o]){L=(O[l]||"error").toLowerCase();var K={};K.variables=O[k]||{};K.title=O[c];p(O[o],K,L)}}}function I(){return g}function q(){return h}function G(){return b}function J(){return i}return{warning:C,error:D,info:F,success:s,notify:x,general:w,addServerMessages:t,onlyUnique:I,reverseOrder:q,inlineMessages:G,position:J}}]});angular.module("angular-growl").service("growlMessages",["$sce","$timeout",function(c,e){var d=this;this.directives={};var b={};function a(g){var h;if(b[g]){h=b[g]}else{h=b[g]={messages:[]}}return h}function f(h){var g=h||0;return d.directives[g]||b[g]}this.initDirective=function(h,g){if(b[h]){this.directives[h]=b[h];this.directives[h].limitMessages=g}else{if(!this.directives[h]){this.directives[h]={messages:[],limitMessages:g}}}return this.directives[h]};this.getAllMessages=function(h){h=h||0;var g;if(f(h)){g=f(h).messages}else{g=[]}return g};this.destroyAllMessages=function(j){var h=this.getAllMessages(j);for(var g=h.length-1;g>=0;g--){h[g].destroy()}var k=f(j);if(k){k.messages=[]}};this.addMessage=function(j){var m,i,k,h;if(this.directives[j.referenceId]){m=this.directives[j.referenceId]}else{m=a(j.referenceId)}i=m.messages;if(this.onlyUnique){angular.forEach(i,function(n){h=c.getTrustedHtml(n.text);if(j.text===h&&j.severity===n.severity&&j.title===n.title){k=true}});if(k){return}}j.text=c.trustAsHtml(String(j.text));if(j.ttl&&j.ttl!==-1){j.countdown=j.ttl/1000;j.promises=[];j.close=false;j.countdownFunction=function(){if(j.countdown>1){j.countdown--;j.promises.push(e(j.countdownFunction,1000))}else{j.countdown--}}}if(angular.isDefined(m.limitMessages)){var l=i.length-(m.limitMessages-1);if(l>0){i.splice(m.limitMessages-1,l)}}if(this.reverseOrder){i.unshift(j)}else{i.push(j)}if(typeof j.onopen==="function"){j.onopen()}if(j.ttl&&j.ttl!==-1){var g=this;j.promises.push(e(angular.bind(this,function(){g.deleteMessage(j)}),j.ttl));j.promises.push(e(j.countdownFunction,1000))}return j};this.deleteMessage=function(i){var h=this.getAllMessages(i.referenceId),g=h.indexOf(i);if(g>-1){h[g].close=true;h.splice(g,1)}if(typeof i.onclose==="function"){i.onclose()}}}]);